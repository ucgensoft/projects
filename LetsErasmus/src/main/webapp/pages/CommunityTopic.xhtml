<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" template="/pages/Template.xhtml">

	<ui:define name="head">
		<meta name="robots" content="noindex"/>
		<link rel="stylesheet" type="text/css"
			href="#{webApplication.urlPrefix}/static/css/place/common_o2.css?ver=#{webApplication.staticFileVersion}" />
		<link rel="stylesheet" type="text/css"
			href="#{webApplication.urlPrefix}/static/css/conversation.css?ver=#{webApplication.staticFileVersion}" />

	</ui:define>

	<ui:define name="body">
		<main id="site-content" role="main">
			<div class="page-container page-container-responsive space-top-4">
				<div class="row">
					<div class="col-md-7 col-md-push-5 messaging-thread-main">
						<div
							class="js-messaging-react-container messaging-thread-container">
							<div>
								<div id="divTopicDetail">
									<div style="margin-top: 10px;">
										<h3>Topic Details</h3>
									</div>
									<div style="width: 20%">
										User id: #{communityTopic.userId}
									</div>
									<div style="width: 80%">
										<div>
											#{communityTopicController.communityTopic.title}	
										</div>
										<div>
											#{communityTopicController.communityTopic.description}
										</div>
									</div>
								</div>
								<div style="margin-top: 10px;">
									<h3>Replies</h3>
								</div>
								<ui:repeat var="message" value="#{communityTopicController.messageList}" varStatus="status">
								<div style="margin-top: 10px;">
									<div style="width: 20%">
										User id: #{message.userId}
									</div>
									<div style="width: 80%">
										<label>
											#{message.description}
										</label>
									</div>
								</div>
								</ui:repeat>
								<div style="margin-top: 10px;">
									<ui:fragment rendered="#{webApplication.user != null}">
										<div>
											<textarea id="txtReply" rows="6"></textarea>
										</div>
									</ui:fragment>
									<div style="margin-top: 5px;">
										<input class="btn btn-primary" id="btnReplyBottom" type="button" value="Reply" 
											ng-click="ctrl.btnReplyClick()"/>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>
		<script>
			var globalCommunityTopicId = #{communityTopicController.communityTopic.id};
		</script>
		<script
			src="#{webApplication.urlPrefix}/static/js/angular/service/community_service.js?ver=#{webApplication.staticFileVersion}"></script>
		<script
			src="#{webApplication.urlPrefix}/static/js/angular/controller/community_topic_controller.js?ver=#{webApplication.staticFileVersion}"></script>
	</ui:define>
</ui:composition>