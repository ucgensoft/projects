<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" template="/pages/Template.xhtml">

	<ui:define name="head">	
		<meta name="robots" content="noindex" />
		<link rel="stylesheet" type="text/css"
			href="#{webApplication.urlPrefix}/static/css/place/common_o2.css?ver=#{webApplication.staticFileVersion}" />
		<link rel="stylesheet" type="text/css"
			href="#{webApplication.urlPrefix}/static/css/conversation.css?ver=#{webApplication.staticFileVersion}" />
		<link rel="stylesheet" type="text/css"
			href="#{webApplication.urlPrefix}/static/css/community.css?ver=#{webApplication.staticFileVersion}" />

	</ui:define>

	<ui:define name="body">
		<main id="site-content" role="main">
		<div class="community-section">
			<div class="community-content">
				<div class="row">
					<div
						class="js-messaging-react-container messaging-thread-container">
						<div>
							<div id="divTopicDetail">
								<div style="margin: 20px; border-bottom: 3px solid #dce0e0;">
									<ui:fragment rendered="#{communityTopicController.communityTopic.communityGroup.countryId != null}">
										<div>
											<a class="clsUnderline" style="color: #0275a8; text-decoration : underline"
												href="#{webApplication.urlPrefix}/community/#{communityTopicController.communityTopic.communityGroup.subUrl}"
												target="_blank">
												<strong>#{communityTopicController.communityTopic.communityGroup.name}</strong>
											</a>
										</div>
									</ui:fragment>
									<div style="margin-top: 10px; padding-bottom: 10px;">
										<a href="#{webApplication.urlPrefix}/community/#{communityTopicController.communityTopic.communityGroup.subUrl}/#{communityTopicController.communityTopic.subUrl}"
											target="_self">
											<strong>#{communityTopicController.communityTopic.title}</strong>
										</a>
									</div>
								</div>
								<div style="overflow: hidden; padding-bottom: 10px;">
									<div style="width: 10%">
									<a
										href="#{webApplication.getUrlTemplateProfile(communityTopicController.communityTopic.userId)}"
										target="_blank">
										<div class="topic-detail-avatar"
											style="margin-top: 10px; float: left; margin-left: 10px;">
											<div id="divUserImagePart" class="nav-top--avatar">
												<input id="hiddenActiveUserProfileImageUrl" type="hidden"
													value="#{webApplication.getUserPhotoUrl(communityTopicController.communityTopic.userId, communityTopicController.communityTopic.user.profilePhotoId,'small')}" />
												<div id="divHeaderUserProfileImage" class="avatar--img"
													style="background-size: cover; width: 100%; height: 100%; background-image: url(#{ webApplication.getUserPhotoUrl ( communityTopicController.communityTopic.userId, communityTopicController.communityTopic.user.profilePhotoId, 'small')})">
												</div>
											</div>
										</div>
									</a> 
									</div>
									
									<div style="margin-top: 10px; padding-left: 0; overflow: auto;     padding-right: 15px;">
										<div
											class="panel-quote-flush panel-quote panel panel-quote-left"
											style="margin-left: 10px;">
											<div class="panel-body panel-dark" style="padding-top: 10px;">

												<div class="topic-creater">
													<a class="_j1qvyg"
														href="#{webApplication.getUrlTemplateProfile(communityTopicController.communityTopic.userId)}"
														target="_blank"><div>#{communityTopicController.communityTopic.user.firstName}:</div></a>
												</div>

												<div>
													<span class="message-text ng-binding">#{communityTopicController.communityTopic.description}</span>
												</div>
												<div class="space-top-2 text-muted row row-condensed">
													<div class="col-sm-8" style="font-size: 12px;">
														<span class="time ng-binding"><em>#{communityTopicController.formatDate(communityTopicController.communityTopic.createdDate, "dd MMM, yyyy HH:mm")}</em></span>
													</div>
													<div class="col-sm-4"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<ui:repeat var="message"
								value="#{communityTopicController.messageList}"
								varStatus="status">

								<div style="overflow: hidden; padding-bottom: 10px;">
									<div style="width: 10%">
										<a
											href="#{webApplication.getUrlTemplateProfile(message.userId)}"
											target="_blank">
											<div class="topic-detail-avatar"
												style="margin-top: 10px; float: left; margin-left: 10px;">
												<div id="divUserImagePart" class="nav-top--avatar">
													<input id="hiddenActiveUserProfileImageUrl" type="hidden"
														value="#{webApplication.getUserPhotoUrl(message.userId, message.user.profilePhotoId,'small')}" />
													<div id="divHeaderUserProfileImage" class="avatar--img"
														style="background-size: cover; width: 100%; height: 100%; background-image: url(#{ webApplication.getUserPhotoUrl ( message.userId, message.user.profilePhotoId, 'small')})">
													</div>
												</div>
											</div>
										</a>
									</div>
									<div style="margin-top: 10px; padding-left: 0; overflow: auto;     padding-right: 15px;">
										<div
											class="panel-quote-flush panel-quote panel panel-quote-left"
											style="margin-left: 10px;">
											<div class="panel-body" style="padding-top: 10px;">

												<div class="topic-creater">
													<a class="_j1qvyg"
														href="#{webApplication.getUrlTemplateProfile(message.userId)}"
														target="_blank"><div>#{message.user.firstName}:</div></a>
												</div>

												<div>
													<span class="message-text ng-binding">#{message.description}</span>
												</div>
												<div class="space-top-2 text-muted row row-condensed">
													<div class="col-sm-8" style="font-size: 12px;">
														<span class="time ng-binding"><em>#{communityTopicController.formatDate(message.createdDate
															, "dd MMM, yyyy HH:mm")}</em></span>
													</div>
													<div class="col-sm-4"></div>
												</div>
											</div>
										</div>
									</div>


								</div>

							</ui:repeat>
							<div style="margin: 20px;">
								<ui:fragment rendered="#{webApplication.user != null}">
									<div>
										<textarea id="txtReply" rows="6"></textarea>
									</div>
								</ui:fragment>
								<div style="margin-top: 5px;">
									<input class="btn btn-primary" id="btnReplyBottom"
										type="button" value="Reply" ng-click="ctrl.btnReplyClick()" />
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</main>
		<script>
			var globalCommunityTopicId = #{communityTopicController.communityTopic.id};
		</script>
		<script
			src="#{webApplication.urlPrefix}/static/js/angular/service/community_service.js?ver=#{webApplication.staticFileVersion}"></script>
		<script
			src="#{webApplication.urlPrefix}/static/js/angular/controller/community_topic_controller.js?ver=#{webApplication.staticFileVersion}"></script>
	</ui:define>
</ui:composition>