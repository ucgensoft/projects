<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
	
	<script>
	
	function displayMenu() {
		if ($('#divDropDownUser').css('display') != 'none') {
			$('#divDropDownUser').css('display', 'none');	
		} else {
			$('#divDropDownUser').css('display', 'block');
		}
	}
	
	</script>
	
	<h:form>
		<header id="top" class="nav-top nav-top__home"
			style="margin: auto;
			background-color: rgba(0, 0, 0, 0.7);">
		<a id="headerSiteIconArea" href="#{webApplication.urlPrefix}" class="nav-top--logo"> 
			<!-- <img id="imgHome" src="#{webApplication.urlPrefix}/static/images/home.ico" /> -->
			<img id="imgSiteIcon" src="#{webApplication.urlPrefix}/static/images/rsz_optimized_logo.png" alt="Let's Erasmus Student Housing Platform"></img>
		</a> 
		
		<nav id="n-l-nav" class="nav-top--right-wrapper"> 
			<nav class="nav-top--right">
				<div class="nav-top--right">
				<a id="blog-button"
						href="#{webApplication.urlPrefix}/community"
						class="nav-top--right--link hidden-sm-down"> <span>Community</span>
					</a>
				
					<a id="blog-button"
						href="#{webApplication.urlPrefix}/blog"
						class="nav-top--right--link hidden-sm-down"> <span>Blog</span>
					</a>
				
					<div style="margin-left: .8rem;">
						<div class="nav-top--list-room-btn"
							id="btnSubmitRoom" ng-click="ctrl.onBecomeHostClicked()">
							<span class="hidden-sm-down">Become a Host</span> 
							<span class="hidden-md-up">Rent Out</span>
						</div>
					</div>
					<!--
					<ui:fragment rendered="#{webApplication.user == null}">
						<img id="imgLogin" class="hidden-md-up" style="width: 32px; height:32px; border-radius: .4rem;" src="#{webApplication.urlPrefix}/static/images/login.png" />
					</ui:fragment>
					 -->
					<a id="help-button"
						href="#{webApplication.urlPrefix}/help"
						class="nav-top--right--link hidden-sm-down"> <span>Help</span>
					</a>
					<ui:fragment
						rendered="#{webApplication.user == null}">
						<a id="a-register" ng-click="ctrl.openSignUpWindow()"
							href=""
							class="nav-top--right--link hidden-sm-down"> <span>Sign up</span>
						</a>
					</ui:fragment>
					<ui:fragment
						rendered="#{webApplication.user == null}">
						<a id="a-login"
							ng-click="ctrl.openLoginWindow()"
							href=""
							class="nav-top--right--link"> <span>Log in </span>
						</a>
					</ui:fragment>
					<ui:fragment
						rendered="#{webApplication.user != null}">
						<div id="divHeaderTabUser" class="dropdown--wrapper">
							<a href="#{webApplication.getUrlTemplateProfile(webApplication.user.id)}" rel=""
								class="nav-top--right--link nav-top--right--link__dropdown">
								<div class="nav-top--username">#{webApplication.user.firstName}</div>
								<div id="divUserImagePart" style="margin-left: 15px;" class="nav-top--avatar">
									<input id="hiddenActiveUserProfileImageUrl" type="hidden" 
										value="#{webApplication.getUserPhotoUrl(webApplication.user.id, webApplication.user.profilePhotoId, 'small')}" />
									<div id="divHeaderUserProfileImage" class="avatar--img"
										style="background-size: cover; width: 100%; height: 100%; 
										background-image: url(#{webApplication.getUserPhotoUrl(webApplication.user.id, webApplication.user.profilePhotoId, 'small')});">
									</div>
								</div>
							</a>
							<div style="margin-top: -5px" id="divDropDownUser" class="panel tooltip-top-right drop-down-menu avatar-tooltip--new">
								<a href="" onclick="openWindow('#{webApplication.urlPrefix}/dashboard/edit-profile', true)"
									class="js-your-trips-item panel-body link-reset hover-item padding-on-mobile">
									<div class="hover-item__content">Edit Profile</div>
								</a>
								<a href="" onclick="openWindow('#{webApplication.urlPrefix}/dashboard/your-listings', true)"
									class="travel-credit-item panel-body link-reset hover-item padding-on-mobile">
									<div class="hover-item__content">Your Listings</div>
								</a>
								<a href="" onclick="openWindow('#{webApplication.urlPrefix}/dashboard/reservation-list', true)"
									class="travel-credit-item panel-body link-reset hover-item padding-on-mobile"
									ng-show="ctrl.isHost()">
									<div class="hover-item__content">Your Reservations</div>
								</a>
								<a href="" onclick="openWindow('#{webApplication.urlPrefix}/dashboard/messages', true)"
									class="panel-body link-reset hover-item no-crawl padding-on-mobile">
									<div class="hover-item__content">Messages</div>
								</a>
								<a href="" onclick="openWindow('#{webApplication.urlPrefix}/dashboard/wish-list', true)"
									class=" panel-body link-reset hover-item no-crawl padding-on-mobile">
									<div class="hover-item__content">Your Wish List</div>
								</a>
								<a href="" onclick="openWindow('#{webApplication.urlPrefix}/dashboard/trip-list', true)"
									class="travel-credit-item panel-body link-reset hover-item padding-on-mobile">
									<div class="hover-item__content">Your Trips</div>
								</a>
								<a href="" onclick="openWindow('#{webApplication.urlPrefix}/community', true)"
									class="travel-credit-item panel-body link-reset hover-item hidden-md-up padding-on-mobile">
									<div class="hover-item__content">Community</div>
								</a>
								<a href="" onclick="openWindow('#{webApplication.urlPrefix}/blog', true)"
									class="travel-credit-item panel-body link-reset hover-item hidden-md-up padding-on-mobile">
									<div class="hover-item__content">Blog</div>
								</a>
								<a href="" onclick="openWindow('#{webApplication.urlPrefix}/help', true)"
									class="travel-credit-item panel-body link-reset hover-item hidden-md-up padding-on-mobile">
									<div class="hover-item__content">Help</div>
								</a>
								<a href="" ng-click="ctrl.logout()"
									class=" panel-body link-reset hover-item no-crawl padding-on-mobile">
									<div class="hover-item__content">Log Out</div>
								</a>
							</div>
						</div>
					</ui:fragment>
					<ui:fragment rendered="#{webApplication.user != null}">	
						<div id="divMobileMenu" class="nav-top--right--link" onclick="displayMenu()" style="padding: 1px">
							<img id="imgMenu" src="#{webApplication.urlPrefix}/static/images/menu_blue_32.png" ></img>
						</div>
					</ui:fragment>
				</div>
			</nav> 
		</nav> 
	</header>
	</h:form>	
</ui:composition>