<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" template="/pages/Template.xhtml">

	<ui:define name="head">
		<link rel="stylesheet" type="text/css"
			href="#{webApplication.urlPrefix}/static/css/search_results.css" />
		<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
		<style>
			
		</style>
	</ui:define>

	<ui:define name="body">
		<h:form id="mainSearchForm">
			<div id="containerPage">
				<div class="SearchApp">
					<div id="filterResultId" class="FilterResult">
						<section class="ListFilters">
						<div class="SearchTitle">
							<h1>Housing Results in {{ctrl.selectedPlaceName}}</h1>
						</div>
						<div class="MainFilter">
							<p class="MainFilter-title u-filterLabel">Destination</p>
							<div class="SearchPlaceBox">
								<div class="SearchPlaceBox-container">
									<div class="SearchPlaceBoxLabelInside SearchPlaceBox-labelInside">
										<icon class="beicon-town SearchPlaceBox-labelInside-icon"></icon>
										<div class="SearchPlaceBoxLabelInside-label" title="{{ctrl.selectedPlaceName}}">{{ctrl.selectedPlaceName}}</div>
									</div>
									<input id="txtSearchPlace" class="SearchPlaceBox-input" value=""
										placeholder="Search by university or neighborhood"/>
									<div class="SearchPlaceBox-close CloseButton"
											style="cursor: pointer;">×</div>
								</div>
							</div>
							<div style="height: 30px; margin-top:2px">
								<div class="DateInput" style="height: 30px;">
									<input type="text" id="txtStartDatePicker" class="DateInput__input"
										placeholder="Start date" readonly="true"/> 
								</div>
								
								<div class="DateInput" style="height: 30px;">
									<input type="text" id="txtEndDatePicker" class="DateInput__input"
										placeholder="End date" readonly="true"/> 
								</div>
							</div>
							<input type="button" class="FilterToolBar-showExtended u-button" id="btnSearch"
								value="Search" ng-click="ctrl.search();" style="height: 30px; margin-top: 2px; margin-left: 5px">
							</input>

						</div>
						<div class="AccomodationFilter u-borderTop">
							<p class="AccomodationFilter-title u-filterLabel"
								data-reactid="499">Housing Type</p>
							<div class="AccomodationFilter-element">
								<div class="IconFilter u-textCenter">
									<icon id="iconPlaceTypeId_1" class="IconFilter-icon beicon-shared-flat"
										ng-click="ctrl.onFilterElementClick($event, 'IconFilter-icon--enabled'); ctrl.basicSearch();"></icon>
									<p class="u-filterLabel">Shared Flat</p>
								</div>
								<div class="IconFilter u-textCenter">
									<icon id="iconPlaceTypeId_2" class="IconFilter-icon beicon-host-family"
										ng-click="ctrl.onFilterElementClick($event, 'IconFilter-icon--enabled'); ctrl.basicSearch();"></icon>
									<p class="u-filterLabel">Host Family</p>
								</div>
								<div class="IconFilter u-textCenter">
									<icon id="iconPlaceTypeId_3" class="IconFilter-icon beicon-student-hall"
										ng-click="ctrl.onFilterElementClick($event, 'IconFilter-icon--enabled'); ctrl.basicSearch();"></icon>
									<p class="u-filterLabel">Student Hall</p>
								</div>
								<div class="IconFilter u-textCenter">
									<icon id="iconPlaceTypeId_4" class="IconFilter-icon beicon-complete-apartment"
										ng-click="ctrl.onFilterElementClick($event, 'IconFilter-icon--enabled'); ctrl.basicSearch();"></icon>
									<p class="u-filterLabel">Full Apartment</p>
								</div>
							</div>
						</div>
						<div id="PriceFilterId" class="PriceFilter u-borderTop">
							<div class="PriceFilter-title u-filterLabel">Budget</div>
							<div class="PriceFilter-box">
								<span id="spanMinPrice" class="PriceFilter-minValue">0</span>
								<div id="divPriceSlider" class="PriceFilter-boxSlider">
									
								</div>
								<span id="spanMaxPrice" class="PriceFilter-maxValue">500</span>
							</div>
						</div>
						<div id="divExtendedSearchFields" style="display: none">
							<div class="WholeApartmentFilter u-borderTop">
								<p class="WholeApartmentFilter-title u-filterLabel">Whole
									Apartment</p>
								<div
									class="WholeApartmentFilter-element WholeApartmentFilter-element--bedrooms">
									<icon class="WholeApartmentFilter-element-icon beicon-rooms"></icon>
									<div class="SelectOptionNumber">
										<div class="SelectOptionNumber-element" ng-click="ctrl.onFilterElementClick($event, 'SelectOptionNumber-element--selected')">1</div>
										<div class="SelectOptionNumber-element" ng-click="ctrl.onFilterElementClick($event, 'SelectOptionNumber-element--selected')">2</div>
										<div class="SelectOptionNumber-element" ng-click="ctrl.onFilterElementClick($event, 'SelectOptionNumber-element--selected')">3</div>
										<div class="SelectOptionNumber-element" ng-click="ctrl.onFilterElementClick($event, 'SelectOptionNumber-element--selected')">4</div>
										<div class="SelectOptionNumber-element" ng-click="ctrl.onFilterElementClick($event, 'SelectOptionNumber-element--selected')">5+</div>
									</div>
									<span class="WholeApartmentFilter-element-title">Bedrooms</span>
								</div>
								<div
									class="WholeApartmentFilter-element WholeApartmentFilter-element--bathrooms">
									<icon class="WholeApartmentFilter-element-icon beicon-shower"></icon>
									<div class="SelectOptionNumber">
										<div class="SelectOptionNumber-element" ng-click="ctrl.onFilterElementClick($event, 'SelectOptionNumber-element--selected')">1</div>
										<div class="SelectOptionNumber-element" ng-click="ctrl.onFilterElementClick($event, 'SelectOptionNumber-element--selected')">2</div>
										<div class="SelectOptionNumber-element" ng-click="ctrl.onFilterElementClick($event, 'SelectOptionNumber-element--selected')">3+</div>
									</div>
									<span class="WholeApartmentFilter-element-title">Bathrooms</span>
								</div>
								<div
									class="WholeApartmentFilter-element WholeApartmentFilter-element--livingRoom">
									<input type="checkbox" name="livingRoom" class="u-checkbox"
										value="on" />
									<icon class="WholeApartmentFilter-element-icon beicon-salon"></icon>
									<span class="WholeApartmentFilter-element-title">With
										living Room</span>
								</div>
							</div>
							<div class="FeaturesFilters  u-borderTop" style="">
								<p class="FeaturesFilters-title u-filterLabel">Features</p>
								<div class="FeaturesFilters-element">
									<div class="AmenityFilterItem">
										<input type="checkbox" name="wifi-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">Wifi</span>
										<icon class="AmenityFilterItem-icon beicon-wifi"></icon>
									</div>
									<div class="AmenityFilterItem">
										<input type="checkbox" name="air-conditioning-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">Air Conditioning</span>
										<icon class="AmenityFilterItem-icon beicon-air-conditioning"></icon>
									</div>
									<div class="AmenityFilterItem">
										<input type="checkbox" name="tv-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">TV</span>
										<icon class="AmenityFilterItem-icon beicon-tv"></icon>
									</div>
									<div class="AmenityFilterItem">
										<input type="checkbox" name="lift-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">Lift</span>
										<icon class="AmenityFilterItem-icon beicon-lift"></icon>
									</div>
									<div class="AmenityFilterItem">
										<input type="checkbox" name="washing-machine-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">Washing Machine</span>
										<icon class="AmenityFilterItem-icon beicon-washing-machine"></icon>
									</div>
									<div class="AmenityFilterItem">
										<input type="checkbox" name="dish-washer-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">Dish Washer</span>
										<icon class="AmenityFilterItem-icon beicon-dish-washer"></icon>
									</div>
								</div>
							</div>
							<div class="RoomFilters u-borderTop">
								<p class="RoomFilters-title u-filterLabel">Room</p>
								<div class="RoomFilters-container">
									<div
										class="RoomFilters-element RoomFilters-element--numberOfBeds">
										<div class="u-select-wrapper">
											<select class="u-select"><option value="0">-
												</option>
												<option value="1">1</option>
												<option value="2">2</option>
												<option value="3">3</option>
												<option value="4">4</option></select>
										</div>
										<span class="RoomFilters-Element-title">Nº Beds</span>
									</div>
									<div class="RoomFilters-element">
										<div class="IconFilter u-textCenter">
											<icon class="IconFilter-icon beicon-single-bed" ng-click="ctrl.onFilterElementClick($event, 'IconFilter-icon--enabled')"></icon>
											<p class="u-filterLabel">Single Bed</p>
										</div>
									</div>
									<div class="RoomFilters-element">
										<div class="IconFilter u-textCenter">
											<icon class="IconFilter-icon beicon-double-bed" ng-click="ctrl.onFilterElementClick($event, 'IconFilter-icon--enabled')"></icon>
											<p class="u-filterLabel">Double Bed</p>
										</div>
									</div>
								</div>
							</div>
							<div class="FeaturesFilters  u-borderTop">
								<p class="FeaturesFilters-title u-filterLabel">Features</p>
								<div class="FeaturesFilters-element">
									<div class="AmenityFilterItem">
										<input type="checkbox" name="en-suite-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">En suite</span>
										<icon class="AmenityFilterItem-icon beicon-en-suite"></icon>
									</div>
									<div class="AmenityFilterItem">
										<input type="checkbox" name="heating-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">Heating</span>
										<icon class="AmenityFilterItem-icon beicon-heating"></icon>
									</div>
									<div class="AmenityFilterItem">
										<input type="checkbox" name="air-conditioning-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">Air Conditioning</span>
										<icon class="AmenityFilterItem-icon beicon-air-conditioning"></icon>
									</div>
									<div class="AmenityFilterItem">
										<input type="checkbox" name="closet-check"
											class="AmenityFilterItem-checkbox u-checkbox" value="on" /><span
											class="AmenityFilterItem-text">Closet</span>
										<icon class="AmenityFilterItem-icon beicon-closet"></icon>
									</div>
								</div>
							</div>
							<div class="ConditionsFilters u-borderTop">
								<p class="ConditionsFilters-title u-filterLabel">Conditions/Rules</p>
								<div
									class="ConditionsFilters-element ConditionsFilters-element--allowedGenders">
									<input type="checkbox" name="allowedGendersCheck"
										class="u-checkbox" value="on" /><span
										class="ConditionsFilters-element-title">Females Only</span>
									<icon class="ConditionsFilters-element-icon beicon-female-only"></icon>
								</div>
								<div
									class="ConditionsFilters-element ConditionsFilters-element--minimumStay">
									<div class="u-select-wrapper">
										<select class="u-select"><option value="-1">-
											</option>
											<option value="1">1 month</option>
											<option value="2">2 months</option>
											<option value="3">3 months</option></select>
									</div>
									<span class="ConditionsFilters-element-title">Minium
										Stay</span>
								</div>
							</div>
						</div>

						<!-- react-empty: 527 --><!-- react-empty: 528 --><!-- react-empty: 529 --><!-- react-empty: 530 --><!-- react-empty: 531 -->
						</section>
						<div id="filterToolBarId_Extended"
							class="FilterToolBar u-borderTop FilterToolBar--expanded"
							data-reactid="532" style="display: none">
							<input type="button" class="FilterToolBar-cancel u-button"
								onclick="hideExtendedSearchFields();" value="Cancel" />
							<input type="button" class="FilterToolBar-apply u-button" value="Apply" ng-click="ctrl.advancedSearch()"/>
						</div>
						<div id="filterToolBarId" class="FilterToolBar u-borderTop"
							data-reactid="532">
							<button class="FilterToolBar-showExtended u-button"
								data-reactid="533"
								onclick="showExtendedSearchFields(); return false;">More
								filters</button>
							<div class="SearchCounter" data-reactid="534">
								<h2 data-reactid="535">
									Show <b>7</b> of <b>7</b> rooms available in <strong>{{ctrl.selectedPlaceName}}</strong>
								</h2>
							</div>
						</div>
						<section id="searchResultsId" class="SearchResults"> 
							<article ng-repeat="p in ctrl.placeList" id="articleProduct_{{p.id}}" class="ProductCard"
								ng-mouseover="ctrl.animateMarker(p.id, true)" ng-mouseleave="ctrl.animateMarker(p.id, false)">
								<div class="ProductCard-picture">
									<section class="image-gallery"> 
										<a href="#{webApplication.urlPrefix}/pages/PlaceDetail.xhtml?placeId={{p.id}}" target="_blank">
											<div id="divImageGalleryContent_{{p.id}}"
												class="image-gallery-content">
												<span class="image-gallery-left-nav hideNav"></span><span
													class="image-gallery-right-nav hideNav"></span>
												<div data-reactid="544">
													<div class="image-gallery-slides">
														<div class="image-gallery-slide center">
															<img src="#{webApplication.rootPlaceImagePath}/{{p.id}}/{{p.coverPhoto.id}}_small.{{p.coverPhoto.fileSuffix}}" 
																role="presentation" itemprop="image" />
														</div>
													</div>
												</div>
												<div class="ProductCardMainProperties">
													<div class="ProductCardMainProperties-type">
														<icon class="ProductCardMainProperties-type-icon center beicon-complete-apartment">
														</icon>
														<span>{{ctrl.getPlaceTypeDescription(p)}}</span>
													</div>
													<div class="ProductCardMainProperties-info">
														<span class="ProductCardMainProperties-info-title">{{p.description}}</span>
													</div>
												</div>
												<div class="FavouriteItem">
													<div id="favouriteIcon"
														class="FavouriteItem-icon beicon-heart"></div>
												</div>
											</div>
										</a> 
									</section>
									<div class="BoxPrice" itemscope=""
										itemtype="http://schema.org/Offer">
										<div class="BoxPrice-container">
											<span class="BoxPrice-price">{{ctrl.getPriceText(p)}}</span>
											<span class="BoxPrice-separator">/</span>
											<div class="BoxPrice-period">day</div>
										</div>
										<div class="BoxPrice-billsIncluded">
											<span class="BoxPrice-billsIncluded-label">{{ctrl.getBillsDescription(p)}}</span>
										</div>
									</div>
								</div>
								<div class="ProductCardExtraInfoLine">
									<div class="ProductCardExtraInfoLine-distance">
										<icon class="beicon-pin"></icon>
										<span id="spanPlaceDistance_{{p.id}}" class="ProductCardExtraInfoLine-distance--km">{{p.distance}}</span>
									</div>
									<div class="ProductCardExtraInfoLine-time">
									</div>
								</div>
							</article> 
						</section>
						<div id="divPagination" class="Pagination" data-reactid="817">
							<a href="https://www.beroomers.com/s?lat=45.4654219&amp;lng=9.1859243&amp;topLeftLat=45.5356889&amp;topLeftLng=9.0651182&amp;bottomRightLat=45.3897787&amp;bottomRightLng=9.2903463&amp;checkin=28-12-2016&amp;checkout=31-01-2017&amp;page=1"
								class="Pagination-element Pagination-element--specialButton">«</a>
								<a href="https://www.beroomers.com/s?lat=45.4654219&amp;lng=9.1859243&amp;topLeftLat=45.5356889&amp;topLeftLng=9.0651182&amp;bottomRightLat=45.3897787&amp;bottomRightLng=9.2903463&amp;checkin=28-12-2016&amp;checkout=31-01-2017&amp;page=1"
								class="Pagination-element Pagination-element--specialButton">‹</a>
								<a href="https://www.beroomers.com/s?lat=45.4654219&amp;lng=9.1859243&amp;topLeftLat=45.5356889&amp;topLeftLng=9.0651182&amp;bottomRightLat=45.3897787&amp;bottomRightLng=9.2903463&amp;checkin=28-12-2016&amp;checkout=31-01-2017&amp;page=1"
								class="Pagination-element Pagination-element--selected">1</a>
								<a href="https://www.beroomers.com/s?lat=45.4654219&amp;lng=9.1859243&amp;topLeftLat=45.5356889&amp;topLeftLng=9.0651182&amp;bottomRightLat=45.3897787&amp;bottomRightLng=9.2903463&amp;checkin=28-12-2016&amp;checkout=31-01-2017&amp;page=1"
								class="Pagination-element Pagination-element--specialButton">›</a>
								<a href="https://www.beroomers.com/s?lat=45.4654219&amp;lng=9.1859243&amp;topLeftLat=45.5356889&amp;topLeftLng=9.0651182&amp;bottomRightLat=45.3897787&amp;bottomRightLng=9.2903463&amp;checkin=28-12-2016&amp;checkout=31-01-2017&amp;page=1"
								class="Pagination-element Pagination-element--specialButton">»</a>
						</div>
					</div>
					<section id="searchMapId" class="SearchMap">
					<div id="mapa" class="mapa" itemscope=""
						itemtype="http://schema.org/Map" style="position: relative; overflow: hidden;">
						<div
							style="height: 100%; width: 100%; position: absolute; background-color: rgb(229, 227, 223);">
							<div class="gm-style" style="height: 100%; width: 100%;">
								<div id="divMap" style="height: 100%; width: 100%;"></div>
							</div>
						</div>
					</div>
					</section>
					<div style="display: none">
						<div ng-repeat="p in ctrl.placeList" id="divMapMarker_{{p.id}}" style="position: absolute; z-index: 1;">
							<div class="SearchMapMarker">
								<div class="SearchMapMarker-price">{{p.price}}€</div>
							</div>
						</div>
					</div>
				</div>
				<div id="divPlaceInfoWindow">
					
				</div>
			</div>
		</h:form>
		<script src="#{webApplication.urlPrefix}/static/js/angular/service/place_service.js"></script>
		<script src="#{webApplication.urlPrefix}/static/js/geocode/custom_marker.js"></script>
		<script src="#{webApplication.urlPrefix}/static/js/angular/controller/search_result_controller.js"></script>
	</ui:define>
</ui:composition>